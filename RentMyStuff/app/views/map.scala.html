@(street: String, city: String, postcode: String, country: String)
@main("Map"){
<style>
#map-canvas {
	position: center;
	width: 500px;
	height: 400px;
	width: 500px;
}
</style>
<script type="text/javascript">
	var latLng = new google.maps.LatLng(47.6667, 9.18333);
	var geocoder;
	var map;
	var mapCanvas;
	var marker;
	var image = "@routes.Assets.at("images/favicon.png")";

	//get the address values
	var city = getArg('city');
	var country = getArg('country');
	var postcode = getArg('postcode');
	var street = getArg('street');
	var address = street + ' ' + city + ' ' + postcode + ' ' + country;
	
	function getArg(name) {
		
		var args = new Object();
		var query = location.search.substring(1);
		var pairs = query.split("&");
		var length = pairs.length-1;
		
		for ( var i = 0; i <= length; i++) {
			var pos = pairs[i].indexOf('=');

			if (pos == -1) {
				continue;
			}

			var argname = pairs[i].substring(0, pos);
			var value = pairs[i].substring(pos + 1);
			args[argname] = value;
		}

		args["NB_OF_ARGS"] = length;

		switch (name) {
		case "ALL_ARGS":
			return args;
			break;
		default:
			if (args[name]) {
				return args[name];
			} else {
				return null;
			}
			break;
		}
	}

	function initialize() {
		mapCanvas = document.getElementById('map-canvas');
		geocoder = new google.maps.Geocoder();
		var mapOptions = {
			center : latLng,
			zoom : 15,

		}
		map = new google.maps.Map(mapCanvas, mapOptions);
			
		
		geocoder.geocode({'address':address}, function(results, status){
			if(status==google.maps.GeocoderStatus.OK){
				map.setCenter(results[0].geometry.location);
				marker = new google.maps.Marker({
					map : map,
					icon : image,
					position : results[0].geometry.location
				});
			} else {
				alert('Geocode konnte nicht aufgelöst werden');
				marker = new google.maps.Marker({
					map : map,
					icon : image,
					position : latLng
				});
			}
		});
	}
	
	google.maps.event.addDomListener(window, 'load', initialize);
</script>

<section class="boxformat">
	<div class="col-md-3"></div>
	<div class="col-md-6">

		<h2>Standort</h2>
		<br>
		<div id="map-canvas"></div>
		<div id="backward">
			<a class="btn btn-default btn-sm" href="javascript:history.go(-1)">
  				<i class="fa fa-backward"></i> Zurück
			</a> 
		</div>

	</div>
	<div class="col-md-3"></div>
</section>
}
